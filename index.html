<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Observatorio BB8 - Cebolla</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&family=Zen+Dots&display=swap" rel="stylesheet">
  <style>
    html {
      scroll-behavior: smooth;
    }
    .garamond {
      font-family: 'EB Garamond', serif;
    }
    .zen-dots {
      font-family: 'Zen Dots', sans-serif;
    }
    .carousel {
      perspective: 1200px;
      transform-style: preserve-3d;
      height: 650px;
    }
    .carousel-track {
      transform-style: preserve-3d;
      transition: transform 1.2s ease-in-out;
      height: 100%;
      width: 100%;
      position: relative;
      transform: rotateY(0deg);
    }
    .carousel-item {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: center center -500px;
      backface-visibility: hidden;
      border-radius: 1rem;
      box-shadow: 0 0 10px #000;
      max-width: 200px;
      max-height: 300px;
      width: auto;
      height: auto;
      transition: transform 1.2s ease-in-out;
    }
    .carousel-caption {
      text-align: center;
      margin-top: 1.5rem;
      font-size: 1.25rem;
      font-weight: bold;
      color: #0ff;
      text-shadow: 0 0 10px #00f;
    }
    .carousel-buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      padding-bottom: 1rem;
      z-index: 10;
    }
    .galactic-button {
      background: linear-gradient(90deg, #0ff, #00f, #f0f);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      font-weight: bold;
      text-shadow: 0 0 5px #000;
      box-shadow: 0 0 10px #0ff;
      transition: all 0.3s ease;
    }
    .galactic-button:hover {
      box-shadow: 0 0 20px #0ff;
      transform: scale(1.05);
    }
  </style>
</head>
<body class="text-white bg-black garamond">

<!-- Sección "Cómo se hizo" insertada correctamente -->
<section id="como" class="py-40 px-6 bg-gray-950">
  <h2 class="text-3xl font-bold text-center mb-10">Cómo se hizo</h2>
  <div class="relative carousel">
    <div class="carousel-track" id="carouselTrack"></div>
    <div class="carousel-buttons">
      <button id="prevBtn" class="galactic-button">← Anterior</button>
      <button id="nextBtn" class="galactic-button">Siguiente →</button>
    </div>
  </div>
  <p id="carouselCaption" class="carousel-caption text-center mt-10 max-w-3xl mx-auto text-lg"></p>
</section>

<!-- El resto del contenido no ha cambiado hasta la sección "Cómo se hizo" -->

<script>
  const track = document.getElementById('carouselTrack');
  const caption = document.getElementById('carouselCaption');
  const numImages = 15;
  const angleStep = 360 / numImages;
  let currentAngle = 0;
  let currentIndex = 0;

  const captions = [
    "Qué ilusión empezar!! Calculando tamaños",
    "El trabajo es duro pero se hace con mucha felicidad",
    "Tirando de Arquímedes para nivelar",
    "Va tomando forma el edificio",
    "Edificio llevado a altura máxima",
    "Primeros trabajos sobre los triángulos de la cúpula",
    "Parece que estoy haciendo TIE Fighter",
    "Montando placas sobre la base de la cúpula",
    "La cúpula va tomando forma",
    "Cúpula cerrada",
    "Abriendo las ventanas",
    "Cúpula terminada en suelo",
    "Terminando ventanas",
    "Gran equipo para subir la cúpula",
    "Emocionado con el resultado"
  ];

  const images = [];
  for (let i = 0; i < numImages; i++) {
    const img = document.createElement('img');
    img.src = `fotos/como/bb8_${String(i + 1).padStart(2, '0')}.jpg`;
    img.className = 'carousel-item';
    track.appendChild(img);
    images.push(img);
  }

  function updateCarousel() {
    images.forEach((img, index) => {
      const angle = angleStep * ((index - currentIndex + numImages) % numImages);
      img.style.transform = `translate(-50%, -50%) rotateY(${angle}deg) translateZ(500px)`;
    });
    caption.textContent = captions[currentIndex];
  }

  function rotateCarousel(direction) {
    currentIndex = (currentIndex + direction + numImages) % numImages;
    currentAngle += direction * angleStep;
    updateCarousel();
  }

  document.getElementById('nextBtn').addEventListener('click', () => {
    rotateCarousel(1);
  });

  document.getElementById('prevBtn').addEventListener('click', () => {
    rotateCarousel(-1);
  });

  updateCarousel();
</script>

<!-- El resto del contenido continúa igual -->

</body>
</html>
